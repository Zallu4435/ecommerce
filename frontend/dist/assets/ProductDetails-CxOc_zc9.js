import{n as z,r as x,j as e,ae as oe,a2 as O,L as q,af as ce,h as J,u as ee,ag as xe,ah as Z,B as j,ai as re,aj as ge,ak as he,al as U,am as me,an as be,ao as ue}from"./index-DNwfBDY0.js";import{T as ye,a as pe}from"./index.esm-tUHffry_.js";import{Z as fe,a as ke}from"./zoom-out-62RsYA8A.js";import{S as _,C as je}from"./star-3kdod5cX.js";import{C as K}from"./ConfirmDeleteModal-CHDRD4Zv.js";import{T as we}from"./trash-2-D6jt9bEq.js";import{C as X}from"./circle-alert-ogbMB1Si.js";import{S as ve}from"./shopping-cart-CijGAZQ8.js";import{F as Ne}from"./file-text-BGNDoVBM.js";import{M as Se}from"./message-square-wBqlzNum.js";import{P as Ce}from"./package-CJrhpnXf.js";import"./usePreventBodyScroll-D2l0Zfsl.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=z("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=z("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=z("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=z("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=z("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),ze=({image:n,variantImages:s})=>{const[i,a]=x.useState(n),[f,k]=x.useState(-1);x.useEffect(()=>{a(n)},[n]);const C=[n,...s||[]].filter(Boolean),h=(y,o)=>{a(y),k(o)};return e.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[e.jsx("div",{className:"relative aspect-square bg-gray-100 dark:bg-gray-700 rounded-xl overflow-hidden group",children:e.jsx(ye,{initialScale:1,minScale:1,maxScale:3,wheel:{step:.1},doubleClick:{mode:"reset"},children:({zoomIn:y,zoomOut:o,resetTransform:p})=>e.jsxs(e.Fragment,{children:[e.jsx(pe,{wrapperClass:"!w-full !h-full",contentClass:"!w-full !h-full flex items-center justify-center",children:e.jsx("img",{src:i||"https://via.placeholder.com/600",alt:"Product",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>y(),className:"p-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors","aria-label":"Zoom in",children:e.jsx(fe,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),e.jsx("button",{onClick:()=>o(),className:"p-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors","aria-label":"Zoom out",children:e.jsx(ke,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),e.jsx("button",{onClick:()=>p(),className:"p-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors","aria-label":"Reset zoom",children:e.jsx(Te,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]})]})})}),C.length>1&&e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2",children:C.map((y,o)=>e.jsx("button",{onClick:()=>h(y,o),className:`relative aspect-square rounded-lg overflow-hidden border-2 transition-all ${f===o||f===-1&&o===0?"border-blue-600 dark:border-blue-400 ring-2 ring-blue-600/20 dark:ring-blue-400/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:e.jsx("img",{src:y,alt:`View ${o+1}`,className:"w-full h-full object-cover"})},o))}),e.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:"Click and drag to pan • Scroll to zoom • Double-click to reset"})]})},De=oe.injectEndpoints({endpoints:n=>({addReview:n.mutation({query:({review:s,rating:i,productId:a})=>({url:"/reviews/add-review",method:"POST",body:{review:s,rating:i,productId:a}}),invalidatesTags:(s,i,{productId:a})=>[{type:"Review",id:"LIST"},{type:"Entity",id:a}]}),updateReview:n.mutation({query:({reviewId:s,review:i,rating:a})=>({url:`/reviews/update-review/${s}`,method:"PUT",body:{review:i,rating:a}}),invalidatesTags:["Review","Entity"]}),deleteReview:n.mutation({query:s=>({url:`/reviews/delete-review/${s}`,method:"DELETE"}),invalidatesTags:["Review","Entity"]}),getReviews:n.query({query:({page:s=1,productId:i,rating:a,sortBy:f})=>{let k=`reviews/get-reviews?page=${s}&productId=${i}`;return a&&(k+=`&rating=${a}`),f&&(k+=`&sortBy=${f}`),k},providesTags:s=>s?[...s.reviews.map(({_id:i})=>({type:"Review",id:i})),{type:"Review",id:"LIST"}]:[{type:"Review",id:"LIST"}]}),hasReviewed:n.query({query:s=>`reviews/has-reviewed?productId=${s}`,providesTags:["Review"]}),canReview:n.query({query:s=>`reviews/can-review?productId=${s}`,providesTags:["Review"]})})}),{useAddReviewMutation:We,useUpdateReviewMutation:_e,useDeleteReviewMutation:Oe,useGetReviewsQuery:Qe,useHasReviewedQuery:Ue,useCanReviewQuery:qe}=De,Be=({productId:n,averageRating:s,totalReviews:i})=>{O(r=>{var S;return(S=r.user.user)==null?void 0:S._id});const[a,f]=x.useState(1),[k,C]=x.useState(null),[h,y]=x.useState("recent"),{data:o={},isLoading:p,isError:N,error:b}=Qe({productId:n,page:a,rating:k,sortBy:h}),{reviews:T=[],totalPages:m,totalReviews:L}=o,w=[5,4,3,2,1].map(r=>{const S=T.filter(M=>M.rating===r).length,R=L>0?S/L*100:0;return{star:r,count:S,percentage:R}}),E=()=>{a>1&&f(a-1)},c=()=>{a<m&&f(a+1)},A=r=>e.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(S=>e.jsx(_,{className:`w-4 h-4 ${S<=r?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200 dark:fill-gray-600 dark:text-gray-600"}`},S))});return e.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold text-gray-900 dark:text-white",children:(s==null?void 0:s.toFixed(1))||"0.0"}),e.jsx("div",{className:"flex items-center justify-center mt-2",children:A(Math.round(s||0))}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[i||0," reviews"]})]}),e.jsx("div",{className:"flex-1 space-y-2 min-w-[200px]",children:w.map(({star:r,count:S,percentage:R})=>e.jsxs("div",{className:`flex items-center gap-2 cursor-pointer p-1 rounded transition-colors ${k===r?"bg-blue-50 dark:bg-blue-900/30":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,onClick:()=>{C(k===r?null:r),f(1)},children:[e.jsxs("span",{className:`text-sm font-medium w-8 ${k===r?"text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300"}`,children:[r,"★"]}),e.jsx("div",{className:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${k===r?"bg-blue-500":"bg-yellow-400"}`,style:{width:`${R}%`}})}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 w-8 text-right",children:S})]},r))})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("select",{value:h,onChange:r=>y(r.target.value),className:"px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"recent",children:"Most Recent"}),e.jsx("option",{value:"highest",children:"Highest Rating"}),e.jsx("option",{value:"lowest",children:"Lowest Rating"})]})})]})}),e.jsxs("div",{className:"p-6",children:[p&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(q,{})}),N&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("p",{className:"text-red-500 dark:text-red-400",children:["Error loading reviews: ",(b==null?void 0:b.message)||"Please try again"]})}),!p&&!N&&e.jsx("div",{className:"space-y-6",children:T.length>0?T.map((r,S)=>{var R;return e.jsxs("div",{className:"pb-6 border-b border-gray-100 dark:border-gray-700 last:border-0",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[r.avatar?e.jsx("img",{src:r.avatar,alt:r.username,className:"w-10 h-10 rounded-full object-cover ring-2 ring-gray-100 dark:ring-gray-700"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:(R=r.username)==null?void 0:R.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:r.username}),r.verifiedPurchase&&e.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[e.jsx(ce,{className:"w-3.5 h-3.5 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Verified Purchase"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[A(r.rating),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(r.createdAt).toLocaleDateString(),r.updatedAt!==r.createdAt&&" (edited)"]})]})]})]})}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-3",children:r.review})]},S)}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:e.jsx(Me,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No reviews yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Be the first to share your thoughts about this product"})]})}),!p&&T.length>0&&m>1&&e.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Page ",a," of ",m]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:E,disabled:a===1,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsx("button",{onClick:c,disabled:a===m,className:"px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg font-medium hover:bg-gray-800 dark:hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})},He=.08,V=5,Ge=({productId:n,availableColors:s,availableSizes:i,availableGenders:a,basePrice:f,productImage:k,baseOfferPrice:C,productName:h,totalStock:y,variants:o=[]})=>{const[p,N]=x.useState(1),[b,T]=x.useState(""),[m,L]=x.useState(""),[w,E]=x.useState(""),[c,A]=x.useState(null),[r,S]=x.useState([]),[R,M]=x.useState(!1),[D]=J(),W=ee(),t=xe(),g=Z.CART_QUANTITY_MAX,P=O(d=>{var l;return(l=d==null?void 0:d.user)==null?void 0:l.isAuthenticated});x.useEffect(()=>{s&&s.length>0&&!m&&L(s[0]),a&&a.length>0&&!w&&E(a[0])},[s,a,m,w]),x.useEffect(()=>{if(m&&o.length>0){const d=o.filter(l=>{var I;return((I=l.color)==null?void 0:I.toLowerCase())===(m==null?void 0:m.toLowerCase())&&l.stockQuantity>0&&l.isActive!==!1&&(!a||!a.length||l.gender===w)}).map(l=>l.size);S([...new Set(d)]),d.length>0&&!d.some(l=>(l==null?void 0:l.toLowerCase())===(b==null?void 0:b.toLowerCase()))&&T(d[0])}},[m,o,b,w,a]),x.useEffect(()=>{if(m&&b&&o.length>0){const d=o.find(l=>{var I,Q;return((I=l.color)==null?void 0:I.toLowerCase())===(m==null?void 0:m.toLowerCase())&&((Q=l.size)==null?void 0:Q.toLowerCase())===(b==null?void 0:b.toLowerCase())&&l.isActive!==!1&&(!a||!a.length||l.gender===w)});A(d||null),d&&p>d.stockQuantity&&N(1)}else A(null)},[m,b,w,o,p,a]);const v=(c==null?void 0:c.price)||f||0,F=(c==null?void 0:c.offerPrice)||C||v,u=(c==null?void 0:c.stockQuantity)||0,$=p*F,B=$*He,H=$+B+V;x.useEffect(()=>{const d=new URLSearchParams(t.search),l=d.get("size"),I=d.get("color");I&&(s!=null&&s.includes(I))&&L(I),l&&(i!=null&&i.includes(l))&&T(l)},[t.search,s,i]);const G=(d,l)=>{const I=new URLSearchParams(t.search);I.set(d,l),W({pathname:t.pathname,search:I.toString()},{replace:!0})},ae=()=>{p<g&&p<u&&N(d=>d+1)},te=()=>{p>1&&N(d=>d-1)},se=d=>{const l=d.target.value;T(l),G("size",l)},de=d=>{const l=d.target.value;L(l),G("color",l)},le=async()=>{var d;if(!c){j.error("Please select a valid color and size combination");return}if(!c.sku){j.error("Variant SKU not found");return}if(M(!0),p>u){j.error("Sorry, not enough stock available."),M(!1);return}try{const l=await D({productId:n,quantity:p,variantSKU:c.sku,size:b,color:m,gender:w}).unwrap(),I=(l==null?void 0:l.message)||"Item added to cart!",Q=u<Z.LOW_STOCK_THRESHOLD&&u>0?` Hurry! Only ${u} items left.`:"";j.success(I+Q)}catch(l){j.error(((d=l==null?void 0:l.data)==null?void 0:d.message)||(l==null?void 0:l.message)||"Failed to add item to cart")}finally{M(!1)}},ie=()=>{if(!c){j.error("Please select a valid color and size combination");return}const d={productImage:k,quantity:p,offerPrice:F,productName:h,variantSKU:c.sku,color:m,size:b,gender:w};W("/checkout",{state:{cartItems:[d],total:H,productId:n}})},ne=u<=0,Y=m&&b&&c&&!ne;return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["₹",F.toLocaleString()]}),v!==F&&e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-through",children:["₹",v.toLocaleString()]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:`text-sm font-semibold ${u>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:c?u>0?`${u} in stock`:"Out of Stock":`${y} total stock`})})]}),e.jsxs("div",{className:"space-y-5",children:[a&&a.length>0&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-600",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wide text-gray-600 dark:text-gray-400 mb-3",children:["Select Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(d=>e.jsx("button",{onClick:()=>E(d),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all border ${w===d?"bg-black text-white border-black dark:bg-white dark:text-black dark:border-white shadow-md relative":"bg-white text-gray-600 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 hover:border-gray-400"}`,children:d==="Male"?"Boy":d==="Female"?"Girl":d},d))})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-600",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wide text-gray-600 dark:text-gray-400 mb-3",children:["Select Color ",e.jsx("span",{className:"text-red-500",children:"*"})]}),s&&s.length>0?e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:m,onChange:de,className:"w-full px-4 py-3 pr-10 border-2 border-gray-300 dark:border-gray-500 rounded-lg text-base font-medium text-gray-900 dark:text-white bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all appearance-none cursor-pointer hover:border-gray-400 dark:hover:border-gray-400",children:s.map(d=>e.jsx("option",{value:d,children:d.charAt(0).toUpperCase()+d.slice(1)},d))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No colors available"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-600",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wide text-gray-600 dark:text-gray-400 mb-3",children:["Select Size ",e.jsx("span",{className:"text-red-500",children:"*"})]}),r&&r.length>0?e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:b,onChange:se,className:"w-full px-4 py-3 pr-10 border-2 border-gray-300 dark:border-gray-500 rounded-lg text-base font-medium text-gray-900 dark:text-white bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all appearance-none cursor-pointer hover:border-gray-400 dark:hover:border-gray-400",children:r.map(d=>e.jsx("option",{value:d,children:d},d))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:m?"No sizes available for this color":"Select a color first"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-600",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wide text-gray-600 dark:text-gray-400 mb-3",children:"Quantity"}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-xl bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-500 hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-gray-700 dark:text-gray-200 text-xl font-bold transition-all disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:border-gray-300 disabled:hover:bg-white dark:disabled:hover:border-gray-500 dark:disabled:hover:bg-gray-800 shadow-sm hover:shadow-md",onClick:te,disabled:p<=1,children:"−"}),e.jsx("div",{className:"min-w-[4rem] px-6 py-3 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-500 rounded-xl",children:e.jsx("span",{className:"block text-center text-xl font-bold text-gray-900 dark:text-white",children:p})}),e.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-xl bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-500 hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-gray-700 dark:text-gray-200 text-xl font-bold transition-all disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:border-gray-300 disabled:hover:bg-white dark:disabled:hover:border-gray-500 dark:disabled:hover:bg-gray-800 shadow-sm hover:shadow-md",onClick:ae,disabled:p>=g||p>=u,children:"+"})]})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["₹",$.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Tax (8%)"}),e.jsxs("span",{className:"font-medium",children:["₹",B.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Shipping"}),e.jsxs("span",{className:"font-medium",children:["₹",V.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900 dark:text-white pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["₹",H.toFixed(2)]})]})]}),R&&e.jsxs("div",{className:"flex items-center justify-center py-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Adding to cart..."})]}),e.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[e.jsx("button",{className:"w-full px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-md",onClick:ie,disabled:!P||R||!Y,children:P?"Buy Now":"Sign In to Buy"}),e.jsx("button",{className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-md",onClick:le,disabled:!P||R||!Y,children:P?"Add to Cart":"Sign In to Add to Cart"})]})]})},Ye=({productId:n})=>{const[s,i]=x.useState(!1),a=O(C=>C.user.isAuthenticated),[f]=re(),k=async()=>{var C;i(!0);try{const h=await f(n).unwrap();j.success((h==null?void 0:h.message)||"Product added to wishlist")}catch(h){j.error(((C=h==null?void 0:h.data)==null?void 0:C.message)||(h==null?void 0:h.message)||"Failed to add to wishlist")}finally{i(!1)}};return e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:k,disabled:!a||s,className:`w-full px-6 py-3 bg-red-600 text-white rounded-lg shadow-lg hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-400
         ${!a||s?"opacity-50 cursor-not-allowed":""}`,children:a?"Add to Wishlist ❤️":"SignIn to add to Wishlist ❤️"})})},Ze=({productId:n})=>{const[s,i]=x.useState(""),[a,f]=x.useState(0),[k,C]=x.useState(0),[h,y]=x.useState(!1),[o,p]=x.useState(null),[N,b]=x.useState(!1),[T,{isLoading:m}]=We(),[L,{isLoading:w}]=_e(),[E,{isLoading:c}]=Oe(),A=O(u=>u.user.isAuthenticated),{data:r,isLoading:S,refetch:R}=Ue(n,{skip:!A}),{data:M,isLoading:D}=qe(n,{skip:!A||(r==null?void 0:r.hasReviewed)});x.useEffect(()=>{r!=null&&r.hasReviewed&&(r!=null&&r.review)&&(p(r.review._id),i(r.review.review),f(r.review.rating))},[r]);const W=u=>i(u.target.value),t=async()=>{var u;if(!A){j.error("Please login to submit a review");return}if(a===0){j.info("Please select a rating");return}if(!s.trim()||s.trim().length<10){j.info("Please write a review with at least 10 characters");return}try{h&&o?(await L({reviewId:o,review:s,rating:a}).unwrap(),j.success("Review updated successfully!"),y(!1)):(await T({review:s,rating:a,productId:n}).unwrap(),j.success("Review submitted successfully!")),R()}catch($){j.error(((u=$==null?void 0:$.data)==null?void 0:u.message)||"Failed to submit review")}},g=()=>{y(!0)},P=()=>{y(!1),r!=null&&r.review&&(i(r.review.review),f(r.review.rating))},v=()=>{b(!0)},F=async()=>{var u;try{await E(o).unwrap(),j.success("Review deleted successfully!"),i(""),f(0),p(null),y(!1),R()}catch($){j.error(((u=$==null?void 0:$.data)==null?void 0:u.message)||"Failed to delete review")}finally{b(!1)}};return S||D?e.jsxs("div",{className:"animate-pulse p-6 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),e.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded"})]}):r!=null&&r.hasReviewed&&!h?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border border-green-200 dark:border-green-800 rounded-2xl",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(je,{className:"w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-600 dark:text-green-400 font-semibold text-lg",children:"Your Review"}),e.jsx("p",{className:"text-sm text-green-600/80 dark:text-green-400/80 mt-1",children:"Thank you for sharing your feedback!"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:g,className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:[e.jsx(Ee,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{onClick:v,disabled:c,className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-medium transition-colors disabled:opacity-50",children:[e.jsx(we,{className:"w-4 h-4"}),c?"Deleting...":"Delete"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:[1,2,3,4,5].map(u=>e.jsx(_,{className:`w-5 h-5 ${u<=a?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200 dark:fill-gray-600 dark:text-gray-600"}`},u))}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:r.review.review}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:["Posted on ",new Date(r.review.createdAt).toLocaleDateString(),r.review.updatedAt!==r.review.createdAt&&` • Edited on ${new Date(r.review.updatedAt).toLocaleDateString()}`]})]})]}),e.jsx(K,{show:N,onClose:()=>b(!1),onConfirm:F,itemName:"your review"})]}):A?M&&!M.canReview?e.jsx("div",{className:"p-6 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-2xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-600 dark:text-amber-400 font-semibold",children:"Unable to Review"}),e.jsx("p",{className:"text-sm text-amber-600/80 dark:text-amber-400/80 mt-1",children:M.reason})]})]})}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:h?"Edit Your Review":"Write a Review"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:["Your Rating ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(u=>e.jsx("button",{type:"button",onClick:()=>f(u),onMouseEnter:()=>C(u),onMouseLeave:()=>C(0),className:"transition-transform hover:scale-110 active:scale-95",children:e.jsx(_,{className:`w-8 h-8 transition-colors ${u<=(k||a)?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200 dark:fill-gray-600 dark:text-gray-600"}`})},u)),a>0&&e.jsxs("span",{className:"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:[a===1&&"Poor",a===2&&"Fair",a===3&&"Good",a===4&&"Very Good",a===5&&"Excellent"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:["Your Review ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:s,onChange:W,rows:5,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",placeholder:"Share your experience with this product..."}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Minimum 10 characters"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s.length," / 500"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:t,disabled:m||w||a===0||s.trim().length<10,className:`flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all ${a===0||s.trim().length<10?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98]"}`,children:m||w?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:h?"Updating...":"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:"w-5 h-5"}),e.jsx("span",{children:h?"Update Review":"Submit Review"})]})}),h&&e.jsx("button",{onClick:P,className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-semibold hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}),e.jsx(K,{show:N,onClose:()=>b(!1),onConfirm:F,itemName:"your review"})]}):e.jsx("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:["Please"," ",e.jsx("a",{href:"/login",className:"font-semibold underline hover:no-underline",children:"login"})," ","to write a review"]})]})})},Ke=({category:n})=>{const s=ee(),[i,a]=x.useState(0),[f,k]=x.useState(4),[C,h]=x.useState(null),[y,o]=x.useState(null),p=O(t=>{var g;return(g=t==null?void 0:t.user)==null?void 0:g.isAuthenticated}),{data:N=[],isLoading:b,isError:T}=ge(n,{skip:!n}),[m]=J(),[L]=re(),w=()=>{window.innerWidth>=1280?k(5):window.innerWidth>=1024?k(4):window.innerWidth>=768?k(3):window.innerWidth>=640?k(2):k(1)};x.useEffect(()=>(w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}),[]);const E=()=>{i+f<N.length&&a(i+1)},c=()=>{i>0&&a(i-1)},A=async(t,g)=>{var v;if(g.stopPropagation(),!p){j.error("Please login to add items to cart");return}if((t==null?void 0:t.stockQuantity)<=0){j.error("Product is out of stock");return}const P={productId:t._id,quantity:1};try{h(t._id),await m(P).unwrap(),j.success("Added to cart!")}catch(F){j.error(((v=F==null?void 0:F.data)==null?void 0:v.message)||"Failed to add to cart")}finally{h(null)}},r=async(t,g)=>{var P;if(g.stopPropagation(),!p){j.error("Please login to add items to wishlist");return}try{o(t);const v=await L(t).unwrap();j.success((v==null?void 0:v.message)||"Added to wishlist!")}catch(v){j.error(((P=v==null?void 0:v.data)==null?void 0:P.message)||"Failed to add to wishlist")}finally{o(null)}},S=t=>{s(`/product/${t}`)},R=t=>e.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(g=>e.jsx(_,{className:`w-3.5 h-3.5 ${g<=Math.round(t)?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200 dark:fill-gray-600 dark:text-gray-600"}`},g))});if(b)return e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(q,{})})});if(T)return e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"text-center text-red-500 dark:text-red-400",children:"Error loading related products"})});if(!N||N.length===0)return null;const M=i>0,D=i+f<N.length,W=N.slice(i,i+f);return e.jsx("div",{className:"py-12 bg-gray-50 dark:bg-gray-900/50",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"You May Also Like"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Similar products in ",n]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[e.jsx("button",{onClick:c,disabled:!M,className:"p-2 rounded-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed transition-all","aria-label":"Previous products",children:e.jsx(he,{className:"w-5 h-5"})}),e.jsx("button",{onClick:E,disabled:!D,className:"p-2 rounded-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed transition-all","aria-label":"Next products",children:e.jsx(U,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:W.map(t=>{var g,P;return e.jsxs("div",{onClick:()=>S(t._id),className:"group bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer",children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-100 dark:bg-gray-700",children:[e.jsx("img",{src:t.image,alt:t.productName,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300"}),e.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx("button",{onClick:v=>r(t._id,v),disabled:y===t._id,className:"p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50","aria-label":"Add to wishlist",children:y===t._id?e.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-gray-700 rounded-full animate-spin"}):e.jsx(Re,{className:"w-4 h-4 text-gray-700 dark:text-gray-300"})}),e.jsx("button",{onClick:v=>{v.stopPropagation(),S(t._id)},className:"p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors","aria-label":"Quick view",children:e.jsx(Ae,{className:"w-4 h-4 text-gray-700 dark:text-gray-300"})})]}),t.basePrice>t.offerPrice&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs("span",{className:"px-2 py-1 bg-red-500 text-white text-xs font-bold rounded-full",children:["-",Math.round((t.basePrice-t.offerPrice)/t.basePrice*100),"%"]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm line-clamp-2 mb-2 min-h-[2.5rem]",children:t.productName}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[R(t.averageRating||0),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",t.totalReviews||0,")"]})]}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-3",children:[e.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["₹",(g=t.offerPrice)==null?void 0:g.toLocaleString()]}),t.basePrice>t.offerPrice&&e.jsxs("span",{className:"text-sm text-gray-400 line-through",children:["₹",(P=t.basePrice)==null?void 0:P.toLocaleString()]})]}),e.jsx("button",{onClick:v=>A(t,v),disabled:C===t._id||t.stockQuantity<=0,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-semibold hover:bg-gray-800 dark:hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02] active:scale-[0.98]",children:C===t._id?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white dark:border-gray-900/30 dark:border-t-gray-900 rounded-full animate-spin"}),e.jsx("span",{className:"text-sm",children:"Adding..."})]}):t.stockQuantity<=0?e.jsx("span",{className:"text-sm",children:"Out of Stock"}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Add to Cart"})]})})]})]},t._id)})}),e.jsxs("div",{className:"flex sm:hidden items-center justify-center gap-4 mt-6",children:[e.jsx("button",{onClick:c,disabled:!M,className:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:"Previous"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i+1," / ",N.length]}),e.jsx("button",{onClick:E,disabled:!D,className:"px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg font-medium hover:bg-gray-800 dark:hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})]})})},or=()=>{var D,W,t;const[n,s]=x.useState("details"),{id:i}=me(),{data:a={},error:f,isLoading:k}=be(i),{image:C,productName:h,basePrice:y,baseOfferPrice:o,description:p,_id:N,category:b,brand:T,returnPolicy:m,averageRating:L,totalReviews:w,variants:E=[],totalStock:c,availableColors:A=[],availableSizes:r=[]}=a.product||{};if(x.useEffect(()=>{window.scrollTo(0,0)},[i]),k)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx(q,{})});if(f||!a||Object.keys(a).length===0)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:f?"Error loading product":"Product not found"}),e.jsx("p",{className:"text-gray-500",children:"Please try again later"})]})});const S=g=>e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(P=>e.jsx(_,{className:`w-4 h-4 ${P<=Math.round(g)?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200 dark:fill-gray-600 dark:text-gray-600"}`},P))}),R=y>o?Math.round((y-o)/y*100):0,M=[{id:"details",label:"Product Details",icon:Le},{id:"specifications",label:"Specifications",icon:Ne},{id:"reviews",label:`Reviews (${w||0})`,icon:Se},{id:"write-review",label:"Write Review",icon:Ie}];return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("a",{href:"/",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Home"}),e.jsx(U,{className:"w-4 h-4"}),e.jsx("a",{href:"/shop",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Shop"}),e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium truncate",children:b})]})})}),e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-0",children:[e.jsxs("div",{className:"p-6 lg:p-8 border-b lg:border-b-0 lg:border-r border-gray-200 dark:border-gray-700 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-semibold rounded-full uppercase",children:T||b}),c>0&&c<10&&e.jsxs("span",{className:"px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 text-xs font-semibold rounded-full",children:["Only ",c," left!"]})]}),e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white mb-3 leading-tight",children:h}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[S(L||0),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(L==null?void 0:L.toFixed(1))||"0.0"," (",w||0," reviews)"]})]}),e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsxs("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["₹",o==null?void 0:o.toLocaleString()]}),R>0&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-xl text-gray-400 line-through",children:["₹",y==null?void 0:y.toLocaleString()]}),e.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-sm font-bold rounded",children:[R,"% OFF"]})]})]})]}),e.jsx(ze,{image:C,variantImages:E.map(g=>g.image).filter(Boolean)})]}),e.jsxs("div",{className:"p-6 lg:p-8 space-y-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Order Summary"}),e.jsx(Ge,{productId:N,productImage:C,productName:h,basePrice:y??0,baseOfferPrice:o??y??0,variants:E,availableColors:A,availableSizes:r,availableGenders:(D=a.product)==null?void 0:D.availableGenders,totalStock:c??0}),e.jsx(Ye,{productId:N})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:e.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:M.map(g=>{const P=g.icon;return e.jsxs("button",{onClick:()=>s(g.id),className:`flex items-center gap-2 px-6 py-4 font-semibold text-sm whitespace-nowrap transition-all border-b-2 ${n===g.id?"border-blue-600 text-blue-600 dark:border-blue-400 dark:text-blue-400 bg-white dark:bg-gray-800":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700/50"}`,children:[e.jsx(P,{className:"w-4 h-4"}),g.label]},g.id)})})}),e.jsxs("div",{className:"p-6 lg:p-8",children:[n==="details"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"About This Product"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-line",children:p||"No description available."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Key Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-100 dark:border-blue-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/40 flex items-center justify-center flex-shrink-0",children:e.jsx(ue,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Free Delivery"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"On orders above ₹500"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-100 dark:border-green-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/40 flex items-center justify-center flex-shrink-0",children:e.jsx($e,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Easy Returns"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m||"7 Days Return Policy"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-100 dark:border-purple-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900/40 flex items-center justify-center flex-shrink-0",children:e.jsx(Pe,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"100% Authentic"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Genuine products only"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-xl border border-orange-100 dark:border-orange-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 dark:bg-orange-900/40 flex items-center justify-center flex-shrink-0",children:e.jsx(Ce,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Secure Packaging"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Safe & protected delivery"})]})]})]})]})]}),n==="specifications"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Product Specifications"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Brand"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:T||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Category"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:b||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Available Sizes"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:(r==null?void 0:r.length)>0?r.join(", "):"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Available Colors"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:(A==null?void 0:A.length)>0?A.join(", "):"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Gender"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:((t=(W=a.product)==null?void 0:W.availableGenders)==null?void 0:t.length)>0?a.product.availableGenders.map(g=>g==="Male"?"Boy":g==="Female"?"Girl":g).join(", "):"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Stock Status"}),e.jsx("span",{className:`font-semibold ${c>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:c>0?`${c} in stock`:"Out of stock"})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Return Policy"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:m||"N/A"})]})]})]}),n==="reviews"&&e.jsx(Be,{productId:N,averageRating:L,totalReviews:w}),n==="write-review"&&e.jsx(Ze,{productId:N})]})]})]}),e.jsx("div",{className:"mt-12",children:e.jsx(Ke,{category:b})})]})};export{or as default};
