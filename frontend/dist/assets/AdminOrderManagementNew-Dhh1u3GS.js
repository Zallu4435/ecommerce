import{u as O,r as n,aY as k,aZ as P,j as e,aM as A}from"./index-DNwfBDY0.js";import{A as M}from"./AdminTable-9UUxwsuU.js";import"./StyledComponents-BbiIQNic.js";import"./tslib.es6-D2mrdk48.js";import"./ConfirmDeleteModal-CHDRD4Zv.js";import"./usePreventBodyScroll-D2l0Zfsl.js";import"./StatusDropdown-C-KKHdgd.js";import"./index-BBTKOM0z.js";const G=()=>{O();const[a,i]=n.useState(1),[c,h]=n.useState("desc"),[o,u]=n.useState(""),[t,x]=n.useState(""),b=10,{data:r,isLoading:l,isError:p,refetch:f}=k({page:a,limit:b,sort:c},{skip:!!t}),{data:m,isLoading:g,refetch:y}=P(t,{skip:!t});n.useEffect(()=>{const s=setTimeout(()=>{console.log("ðŸ” [AdminOrderManagementNew] Setting debouncedSearch:",o),x(o)},500);return()=>clearTimeout(s)},[o]),console.log("ðŸ“Š [AdminOrderManagementNew] State:",{searchTerm:o,debouncedSearch:t,skipPaginated:!!t,skipSearch:!t,ordersData:r,searchData:m,isLoading:l,isSearchLoading:g});const S=t?m||[]:(r==null?void 0:r.orders)||[],d=(r==null?void 0:r.totalPages)||1,N=l||t&&g,j=()=>{i(s=>Math.max(s-1,1))},v=()=>{i(s=>Math.min(s+1,d))},w=()=>{h(s=>s==="desc"?"asc":"desc"),i(1)};return e.jsxs("div",{className:"min-h-screen dark:bg-gray-900 fixed top-10 right-0 left-[420px] dark:text-white bg-orange-50 py-6 px-14 overflow-y-auto scrollbar-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-400",children:"Order Management"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:j,disabled:a===1,className:`px-4 py-2 rounded-md font-bold transition-all ${a===1?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600 active:scale-95"}`,children:"Previous"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-300 font-bold",children:["Page ",a," / ",d]}),e.jsx("button",{onClick:v,disabled:a===d,className:`px-4 py-2 rounded-md font-bold transition-all ${a===d?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600 active:scale-95"}`,children:"Next"})]}),e.jsxs("button",{onClick:w,className:"border-blue-600 border-4 hover:bg-white text-blue-500 font-bold h-[45px] py-1 px-4 rounded-md transition duration-200 flex items-center gap-2",children:[e.jsx(A,{}),c==="desc"?"Newest First":"Oldest First"]})]}),e.jsx("div",{className:"overflow-y-auto scrollbar-hidden",children:e.jsx(M,{type:"allOrders",data:S,search:o,setSearch:u,isLoading:N,isError:p,refetch:t?y:f})})]})};export{G as default};
