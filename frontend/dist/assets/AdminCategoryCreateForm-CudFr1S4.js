import{u,r as p,be as j,aW as N,H as k,j as e,I as w,B as m}from"./index-DNwfBDY0.js";import{c as v}from"./categoryFormValidation-CWFdV7NR.js";import{I as s,L as r,a as c,T as C}from"./StyledComponents-BbiIQNic.js";import{A}from"./arrow-left-CUel7EGd.js";import{U as S}from"./upload-D2_odXxp.js";import"./tslib.es6-D2mrdk48.js";const P=()=>{const i=u(),[o,l]=p.useState(!1),[x]=j(),{refetch:g}=N(),{register:t,handleSubmit:h,formState:{errors:a}}=k({resolver:w(v)}),y=async(b,f)=>{var n;f.preventDefault(),l(!0);try{await x({entity:"category",data:b}).unwrap(),g(),m.success("Category created successfully!"),i(-1)}catch(d){console.error("Error occurred while adding category:",d),m.error(((n=d==null?void 0:d.data)==null?void 0:n.message)||"An error occurred while adding the category")}finally{l(!1)}};return e.jsx("div",{className:"dark:bg-black min-h-screen flex mt-10 items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-[1000px] dark:bg-gray-900 bg-orange-50 p-6 md:p-8 shadow-md",children:[e.jsxs("div",{className:"flex justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-6 dark:text-gray-400 text-gray-700",children:"Create New Category"}),e.jsxs("button",{onClick:()=>i(-1),className:"flex items-center text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white",children:[e.jsx(A,{className:"mr-2"}),e.jsx("span",{children:"Back to Products"})]})]}),e.jsxs("form",{onSubmit:h(y),children:[e.jsxs(s,{children:[e.jsx(r,{className:"text-gray-700 dark:text-white",children:"Category Name *"}),e.jsx(c,{type:"text",placeholder:"Enter Category Name",...t("categoryName"),className:"dark:text-white dark:bg-gray-800"}),a.categoryName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.categoryName.message})]}),e.jsxs("div",{className:"border border-gray-300 dark:border-gray-700 p-4 rounded-md mb-6 bg-white dark:bg-gray-800/50",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-orange-600 dark:text-orange-500 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Promo Offer Details"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(s,{children:[e.jsx(r,{className:"text-gray-700 dark:text-white",children:"Offer Name"}),e.jsx(c,{type:"text",placeholder:"e.g. Summer Sale",...t("offerName"),className:"dark:text-white dark:bg-gray-800"})]}),e.jsxs(s,{children:[e.jsx(r,{className:"text-gray-700 dark:text-white",children:"Discount Percentage (%)"}),e.jsx(c,{type:"number",placeholder:"0",...t("categoryOffer"),className:"dark:text-white dark:bg-gray-800"}),a.categoryOffer&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.categoryOffer.message})]}),e.jsxs(s,{children:[e.jsx(r,{className:"text-gray-700 dark:text-white",children:"Valid From"}),e.jsx(c,{type:"date",...t("startDate"),className:"dark:text-white dark:bg-gray-800"})]}),e.jsxs(s,{children:[e.jsx(r,{className:"text-gray-700 dark:text-white",children:"Valid To"}),e.jsx(c,{type:"date",...t("endDate"),className:"dark:text-white dark:bg-gray-800"})]})]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("input",{type:"checkbox",id:"isOfferActive",...t("isOfferActive"),className:"w-5 h-5 text-orange-600 bg-gray-100 border-gray-300 rounded focus:ring-orange-500"}),e.jsx(r,{htmlFor:"isOfferActive",className:"ml-2 mb-0 cursor-pointer text-gray-700 dark:text-white",children:"Activate Offer"})]})]}),e.jsxs(s,{children:[e.jsx(r,{className:"text-gray-700 dark:text-white",children:"Category Description *"}),e.jsx(C,{placeholder:"Write your category description here",...t("categoryDescription"),rows:"5",className:"dark:text-white dark:bg-gray-800"}),a.categoryDescription&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.categoryDescription.message})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{type:"submit",disabled:o,className:"w-full dark:bg-blue-600 bg-orange-500 text-white px-6 py-3 rounded-md dark:hover:bg-blue-700 hover:bg-orange-600 flex items-center justify-center font-bold text-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(S,{className:"mr-2"}),o?"Creating...":"Create Category"]})})]})]})})};export{P as default};
