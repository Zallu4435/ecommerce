import{n as m,u as y,am as b,by as p,j as e,bz as j,R as k,M as N}from"./index-DNwfBDY0.js";import{A as u}from"./arrow-left-CUel7EGd.js";import{P as g}from"./package-CJrhpnXf.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=m("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=m("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),L=()=>{var n;const i=y(),{id:o}=b(),{data:a,error:l,isLoading:h}=p(o),t=a==null?void 0:a.user,x=a==null?void 0:a.addresses,s=a==null?void 0:a.orders;return h?e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-orange-50 dark:bg-gray-900",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500"})}):l?e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-orange-50 dark:bg-gray-900",children:e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg",children:[e.jsx("p",{className:"font-bold",children:"Error Loading User Details"}),e.jsx("p",{children:(l==null?void 0:l.message)||"Something went wrong!"})]})}):e.jsx("div",{className:"min-h-screen mt-10 bg-orange-50 dark:bg-gray-900 transition-colors duration-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("button",{onClick:()=>i(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",children:[e.jsx(u,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Back to Users"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:t!=null&&t.avatar?e.jsx("img",{src:t.avatar,alt:t.username,className:"w-20 h-20 rounded-full object-cover border-2 border-blue-500"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-500 flex items-center justify-center text-white text-2xl font-bold",children:(n=t==null?void 0:t.username)==null?void 0:n.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t==null?void 0:t.username}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-300",children:[e.jsx(j,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"font-medium",children:t==null?void 0:t.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-300",children:[e.jsx(k,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Phone"}),e.jsx("p",{className:"font-medium",children:(t==null?void 0:t.phone)||"Not provided"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-300",children:[e.jsx(f,{className:"w-5 h-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Joined"}),e.jsx("p",{className:"font-medium",children:new Date(t==null?void 0:t.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-300",children:[e.jsx(g,{className:"w-5 h-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Orders"}),e.jsx("p",{className:"font-medium",children:(s==null?void 0:s.length)||0})]})]})]})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-blue-500"}),"Referral Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"User's Referral Code"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("code",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 tracking-wider",children:(t==null?void 0:t.referralCode)||"N/A"}),(t==null?void 0:t.referralCode)&&e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t.referralCode)},className:"text-sm px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:"Copy"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Share this code to refer new users"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Referred By"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(t==null?void 0:t.referredBy)||"Direct Signup"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:t!=null&&t.referredBy?"Used referral code during signup":"No referral code used"})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Signup Bonus Status"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${t!=null&&t.isReferralRewardClaimed?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:t!=null&&t.isReferralRewardClaimed?"âœ“ Claimed":"Not Claimed"})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:t!=null&&t.referredBy?"â‚¹50 signup bonus":"No referral bonus"})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Referral Earnings"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:"â‚¹0"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Total earned from referrals"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-blue-500"}),"Saved Addresses"]}),x&&x.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map((r,d)=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.name||`Address ${d+1}`}),r.isDefault&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 px-2 py-1 rounded",children:"Default"})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[r.addressLine1,r.addressLine2&&`, ${r.addressLine2}`]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[r.city,", ",r.state," - ",r.pincode]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:r.country}),r.phone&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:["ðŸ“ž ",r.phone]})]},d))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No addresses saved yet"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5 text-blue-500"}),"Recent Orders"]}),s&&s.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Order ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Items"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(r=>{var d,c;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white",children:["#",r._id.slice(-8).toUpperCase()]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:new Date(r.createdAt).toLocaleDateString("en-IN")}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:[((d=r.items)==null?void 0:d.length)||0," item(s)"]}),e.jsxs("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900 dark:text-white",children:["â‚¹",((c=r.TotalAmount)==null?void 0:c.toLocaleString("en-IN",{maximumFractionDigits:2}))||"0.00"]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${r.orderStatus==="Delivered"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":r.orderStatus==="Processing"||r.orderStatus==="Shipped"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":r.orderStatus==="Cancelled"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:r.orderStatus||"Pending"})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("button",{onClick:()=>i(`/admin/order-details/${r._id}`),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium transition-colors",children:"View Details"})})]},r._id)})})]})}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No orders placed yet"})]})]})})};export{L as default};
