import{n as p,am as y,u as b,r as h,j as e,L as j}from"./index-DNwfBDY0.js";import{b as u}from"./CouponApiSlice-9zeQ3mce.js";import{A as N}from"./arrow-left-CUel7EGd.js";import{F as f}from"./file-text-BGNDoVBM.js";import{U as k}from"./users-nAU_wbTa.js";import{D as w}from"./dollar-sign-BgV-yBG2.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=p("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),T=()=>{const{id:r}=y(),{data:t,isLoading:n,isError:x,refetch:d}=u(r),a=t==null?void 0:t.coupon,o=b();h.useEffect(()=>{r&&d()},[r,d]);const i=()=>{if(!(a!=null&&a.expiry))return!1;const s=new Date,l=new Date(a.expiry);return s>l},c=()=>a!=null&&a.usageLimit?a.usageCount>=a.usageLimit:!1;if(n)return e.jsx(j,{});if(x||!a)return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-orange-50 dark:bg-gray-900",children:e.jsx("p",{className:"text-lg font-bold text-red-500",children:"Failed to load coupon details."})});const g=i()?"Expired":c()?"Sold Out":"Active",m=i()?"bg-red-500 text-white":c()?"bg-orange-500 text-white":"bg-green-500 text-white";return e.jsx("div",{className:"min-h-screen bg-orange-50 dark:bg-gray-900 p-6 md:p-10 flex justify-center mt-10",children:e.jsxs("div",{className:"w-full max-w-[1300px]",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-5 gap-4",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-2xl font-bold text-gray-500 dark:text-gray-300 flex items-center gap-2",children:"Coupon Details"})}),e.jsxs("button",{onClick:()=>o(-1),className:"flex items-center text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white transition-colors",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Back to Coupons"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-yellow-50 dark:bg-gray-800 rounded-lg shadow-lg p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-gray-500"}),"Basic Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-gray-600 dark:text-gray-400",children:"Coupon Code:"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:a.couponCode})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-gray-600 dark:text-gray-400",children:"Title:"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:a.title})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-600 dark:text-gray-400 block mb-1",children:"Description:"}),e.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:a.description})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-gray-600 dark:text-gray-400",children:"Expiry Date:"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:new Date(a.expiry).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-gray-600 dark:text-gray-400",children:"Is Expired:"}),e.jsx("span",{className:`font-medium px-5 py-1 rounded ${m}`,children:g})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-gray-500"}),"Usage Statistics"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg shadow-sm",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 block",children:"Times Used"}),e.jsx("span",{className:"text-xl font-bold text-gray-800 dark:text-white",children:a.usageCount})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg shadow-sm",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 block",children:"Total Limit"}),e.jsx("span",{className:"text-xl font-bold text-gray-800 dark:text-white",children:a.usageLimit||"Unlimited"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg shadow-sm",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 block",children:"Limit Per User"}),e.jsx("span",{className:"text-xl font-bold text-gray-800 dark:text-white",children:a.perUserLimit||"1"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-yellow-50 dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 mb-6 flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5 text-gray-500"}),"Pricing Details"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"font-semibold text-gray-600 dark:text-gray-400",children:"Discount:"}),e.jsxs("span",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:[a.discount,"%"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-gray-600 dark:text-gray-400",children:"Min Amount:"}),e.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:["₹",parseFloat(a.minAmount).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-gray-600 dark:text-gray-400",children:"Max Discount:"}),e.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:["₹",a.maxAmount]})]})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-gray-500"}),"Targeting"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:"Applicable Users"}),a.applicableUsers&&a.applicableUsers.length>0&&e.jsxs("span",{className:"text-xs bg-white dark:bg-gray-700 px-2 py-0.5 rounded border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300",children:["Total: ",a.applicableUsers.length]})]}),a.applicableUsers&&a.applicableUsers.length>0?e.jsx("div",{className:"max-h-[150px] overflow-y-auto pr-2 border border-gray-200 dark:border-gray-700 rounded-md bg-white dark:bg-gray-900 p-2",children:e.jsx("ul",{className:"list-disc ml-4 space-y-1",children:a.applicableUsers.map(s=>e.jsx("li",{className:"text-blue-600 break-words text-sm",children:s.email},s.id))})}):e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm italic",children:"No applicable users (All)."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:"Applicable Products"}),a.applicableProducts&&a.applicableProducts.length>0&&e.jsxs("span",{className:"text-xs bg-white dark:bg-gray-700 px-2 py-0.5 rounded border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300",children:["Total: ",a.applicableProducts.length]})]}),a.applicableProducts&&a.applicableProducts.length>0?e.jsx("div",{className:"max-h-[200px] overflow-y-auto pr-2 border border-gray-200 dark:border-gray-700 rounded-md bg-white dark:bg-gray-900 p-2",children:e.jsx("ul",{className:"list-disc ml-4 space-y-1",children:a.applicableProducts.map(s=>e.jsx("li",{className:"text-blue-600 break-words text-sm",children:s.productName},s.id))})}):e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm italic",children:"No applicable Products (All)."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:"Applicable Categories"}),a.applicableCategories&&a.applicableCategories.length>0&&e.jsxs("span",{className:"text-xs bg-white dark:bg-gray-700 px-2 py-0.5 rounded border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300",children:["Total: ",a.applicableCategories.length]})]}),a.applicableCategories&&a.applicableCategories.length>0?e.jsx("div",{className:"max-h-[200px] overflow-y-auto pr-2 border border-gray-200 dark:border-gray-700 rounded-md bg-white dark:bg-gray-900 p-2",children:e.jsx("ul",{className:"list-disc ml-4 space-y-1",children:a.applicableCategories.map((s,l)=>e.jsx("li",{className:"text-blue-600 break-words text-sm",children:s},l))})}):e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm italic",children:"No applicable Categories (All)."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:"Used By"}),a.appliedUsers&&a.appliedUsers.length>0&&e.jsxs("span",{className:"text-xs bg-white dark:bg-gray-700 px-2 py-0.5 rounded border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300",children:["Total: ",a.appliedUsers.length]})]}),a.appliedUsers&&a.appliedUsers.length>0?e.jsx("div",{className:"max-h-[150px] overflow-y-auto pr-2 border border-gray-200 dark:border-gray-700 rounded-md bg-white dark:bg-gray-900 p-2",children:e.jsx("ul",{className:"list-disc ml-4 space-y-1",children:a.appliedUsers.map(s=>e.jsx("li",{className:"text-blue-600 break-words text-sm",children:s.email},s.id))})}):e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm italic",children:"No usage yet."})]})]})]})]})]})]})})};export{T as default};
